<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>tabbar</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link rel="stylesheet" href="../common/tabbar/css/index.css">

		<!-- <script src="../libs/seajs/app_3.0/sea.js"></script> -->
		<script src="../libs/mui/js/mui.min.js"></script>
		<script src="../libs/jquery/3.0.0/jquery-3.0.0.js"></script>
		<script>

mui.plusReady(function() {
	plus.webview.currentWebview().setStyle({
		popGesture: 'none'
	}); //禁止侧滑关闭
	mui.init({
		swipeBack:false
	});
	mui.back= function(){
		
	}
	var CONFIG = {
		'static_path' : '../'
	};

	webview_ids = [
		"st_modules_start_home",
		"st_modules_h5_lessionList", //学习
		"st_modules_h5_quickenedIndex", //加速
		'st_modules_h5_works_index', //赚钱
		'st_modules_h5_memberCenter', //我
	];
	var $a = $('.tabbar a');

	var ws = mui.preload({
		url: './h5/index/index.html', //子页面HTML地址，支持本地地址和网络地址
		id: 'st_modules_start_home', //子页面标志
		styles: {
			top: "0px",
			bottom: '49px', //新页面底部位置
			bounce: 'vertical',
			background:'transparent'
		},
		createNew: false, //是否重复创建同样id的webview，默认为false:不重复创建，直接显示
		show: {
			autoShow: true, //页面loaded事件发生后自动显示，默认为true
		}
	});

	ws.addEventListener('loaded', function() {
			alert(JSON.stringify(ws))
			ws.show();
	});
	$('.tabbar').on('tap','a',function(){
		alert(1)
		// var index = $a.index($(this));
		// var webviews = plus.webview.currentWebview().parent().children();
		// for (var i = 0; i < webview_ids.length; i++) {
		// 	if(i != index){
		// 		$a.eq(i).removeClass('current');
		// 		// plus.webview.hide(webview_ids[i]);
		// 		for (var i = 0; i < webviews.length; i++) {
		// 			if(webviews[i].id == webview_ids[i]){
		// 				webviews[i].hide();
		// 			}
		// 		}
		// 	}else{
		// 		// plus.webview.show(webview_ids[i]);
		// 		$a.eq(i).addClass('current');
		// 		for (var i = 0; i < webviews.length; i++) {
		// 			if(webviews[i].id == webview_ids[i]){
		// 				webviews[i].show();
		// 			}
		// 		}
		// 	}
		// }
		return false;
	})

	// console.log('tabbar'+JSON.stringify(plus.webview.getWebviewById( 'index_box.html' ).children()))

	// console.log('tabbar'+JSON.stringify(plus.webview.currentWebview().parent().children()))
})
		</script>
	</head>

	<body>
		<style type="text/css">
			.tabbar .tabbar-item ,nav.tabbar{
			    height: 48px !important;
			}
		</style>
		<nav class="border-1px tabbar" style="font-size: 0;">
			<a href="javascript:;" pjax="1" class="tabbar-item current" data-index="0">
				<span class="tabbar-icon icon-home"></span>
				<span class="tabbar-text">开始</span>
			</a>
			<a href="javascript:;" pjax="1" class="tabbar-item" data-index="1">
				<span class="tabbar-icon icon-learn"></span>
				<span class="tabbar-text">学习</span>
			</a>
			<a href="javascript:;" pjax="1" class="tabbar-item" data-index="2">
				<span class="tabbar-icon icon-jiasu"></span>
				<span class="tabbar-text">加速</span>
			</a>
			<a href="javascript:;" pjax="1" class="tabbar-item" data-index="3">
				<span class="tabbar-icon icon-money"></span>
				<span class="tabbar-text">赚钱</span>
			</a>
			<a href="javascript:;" pjax="1" class="tabbar-item" data-index="3">
				<span class="tabbar-icon icon-mine"></span>
				<span class="tabbar-text">我</span>
			</a>
		</nav>
		<div class="tabbar-block"></div>
	</body>

</html>